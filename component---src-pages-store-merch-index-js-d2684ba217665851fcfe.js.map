{"version":3,"sources":["webpack:///./src/pages/store/merch/index.js","webpack:///./src/components/Link/index.js"],"names":["Template","start","useState","Date","useEffect","diff","getMilliseconds","ReactGA","timing","category","variable","value","label","query","render","json","data","merchDataJson","graph","content","map","d","createProductMetadata","name","title","brand","type","description","image","photo","price","priceCurrency","currency","url","metadata","JSON","stringify","className","subtitle","key","id","href","src","alt","priceText","AnalyticsLink","props","OutboundLink","eventLabel","to","target","trackerNames","children"],"mappings":"+QAae,SAASA,IAAY,IAC3BC,EAASC,mBAAS,IAAIC,MADI,GAejC,OAbAC,qBAAU,WACR,OAAO,WACL,IACMC,GADM,IAAIF,MACCG,kBAAoBL,EAAMK,kBAC3CC,IAAQC,OAAO,CACbC,SAAU,cACVC,SAAU,OACVC,MAAON,EACPO,MAAO,cAMX,kBAAC,IAAD,KACE,kBAAC,cAAD,CACEC,MAAK,aAkBLC,OAAQ,SAACC,GAAU,IACKC,EAAQD,EAAvBE,cAcDC,EAAQ,CACZ,WAAY,oBACZ,SAduBF,EAAKG,QAAQC,KAAI,SAAAC,GACxC,OAAOC,YAAsB,CAC3BC,KAAMF,EAAEG,MACRC,MAAOJ,EAAEK,KACTC,YAAaN,EAAEG,MACfI,MAAOP,EAAEQ,MACTC,MAAOT,EAAES,MACTC,cAAeV,EAAEW,SACjBC,IAAKZ,EAAEY,UASX,OAAQ,oCACN,kBAAC,IAAD,CACET,MAAM,gCACNU,SAAUC,KAAKC,UAAUlB,KAE3B,yBAAKmB,UAAU,cACb,4BAAKrB,EAAKQ,OACV,yBAAKa,UAAU,YAAYrB,EAAKsB,UAEhC,yBAAKD,UAAU,sBACZrB,EAAKG,QAAQC,KAAI,SAACJ,GACjB,OACE,yBAAKqB,UAAU,YAAYE,IAAKvB,EAAKwB,IACnC,kBAAC,IAAD,CAAMC,KAAMzB,EAAKiB,IAAKT,MAAOR,EAAKQ,OAChC,kBAAC,IAAD,CAAOkB,IAAK1B,EAAKa,MAAOc,IAAK3B,EAAKQ,QAClC,yBAAKa,UAAU,eACZrB,EAAKQ,OAER,yBAAKa,UAAU,SACZrB,EAAK4B,oBA1D1B,Y,ggCC9BN,uEAGe,SAASC,EAAcC,GAClC,OACE,kBAAC,IAAQC,aAAT,CACEC,WAAYF,EAAML,KAClBQ,GAAIH,EAAML,KACVS,OAAO,SACP1B,MAAOsB,EAAMtB,MACb2B,aAAc,CAACL,EAAML,OACpBK,EAAMM","file":"component---src-pages-store-merch-index-js-d2684ba217665851fcfe.js","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport { StaticQuery, graphql } from 'gatsby';\nimport Layout from \"../../../components/layout\";\nimport ReactGA from 'react-ga';\n// Components\nimport SEO from \"../../../components/SEO\";\nimport Link from \"../../../components/Link\";\nimport Image from \"../../../components/Image\";\n\nimport {createProductMetadata} from \"../../../jsonLd\";\n\nimport \"./styles.scss\";\n\nexport default function Template() {\n  const [start] = useState(new Date());\n  useEffect(() => {\n    return () => {\n      const cur = new Date();\n      const diff = cur.getMilliseconds() - start.getMilliseconds();\n      ReactGA.timing({\n        category: 'TimeOnMerch',\n        variable: 'time',\n        value: diff, // in milliseconds\n        label: \"Merch\",\n      });\n    };\n  });\n\n  return (\n    <Layout>\n      <StaticQuery\n        query={graphql`\n              query Merch {\n                merchDataJson {\n                    title\n                    subtitle\n                    content {\n                      id\n                      url\n                      type\n                      photo\n                      priceText\n                      currency\n                      price\n                      title\n                    }\n                }\n            }\n          ` }\n        render={(json) => {\n          const {merchDataJson: data} = json;\n\n          const productsMetadata = data.content.map(d => {\n            return createProductMetadata({\n              name: d.title,\n              brand: d.type,\n              description: d.title,\n              image: d.photo,\n              price: d.price,\n              priceCurrency: d.currency,\n              url: d.url,\n            });\n          });\n\n          const graph = {\n            \"@context\": \"http://schema.org\",\n            \"@graph\": productsMetadata,\n          }\n\n          return (<>\n            <SEO\n              title=\"TechWaifu's Merchandise Store\"\n              metadata={JSON.stringify(graph)}\n            />\n            <div className=\"MerchStore\">\n              <h1>{data.title}</h1>\n              <div className=\"Subtitle\">{data.subtitle}</div>\n\n              <div className=\"MerchLinkContainer\">\n                {data.content.map((data) => {\n                  return (\n                    <div className=\"MerchLink\" key={data.id}>\n                      <Link href={data.url} title={data.title}>\n                        <Image src={data.photo} alt={data.title} />\n                        <div className=\"ProductName\">\n                          {data.title}\n                        </div>\n                        <div className=\"Price\">\n                          {data.priceText}\n                        </div>\n                      </Link>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </>);\n        }} />\n    </Layout >\n  )\n}\n","import React from \"react\";\nimport ReactGA from 'react-ga';\n\nexport default function AnalyticsLink(props) {\n    return (\n      <ReactGA.OutboundLink\n        eventLabel={props.href}\n        to={props.href}\n        target=\"_blank\"\n        title={props.title}\n        trackerNames={[props.href]}>\n        {props.children}\n      </ReactGA.OutboundLink>\n    );\n  };"],"sourceRoot":""}