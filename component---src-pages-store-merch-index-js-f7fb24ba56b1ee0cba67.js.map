{"version":3,"sources":["webpack:///./src/pages/store/merch/index.js"],"names":["Template","start","useState","Date","useEffect","diff","getMilliseconds","ReactGA","event","category","variable","value","label","query","render","json","data","merchDataJson","productsMetadata","content","map","d","createProductMetadata","name","title","brand","type","description","image","photo","price","priceCurrency","currency","url","metadata","className","subtitle","key","id","href","src","alt","priceText"],"mappings":"+QAae,SAASA,IAAY,IAC3BC,EAASC,mBAAS,IAAIC,MADI,GAejC,OAbAC,qBAAU,WACR,OAAO,WACL,IACMC,GADM,IAAIF,MACCG,kBAAoBL,EAAMK,kBAC3CC,IAAQC,MAAM,CACZC,SAAU,cACVC,SAAU,OACVC,MAAON,EACPO,MAAO,cAMX,kBAAC,IAAD,KACE,kBAAC,cAAD,CACEC,MAAK,aAkBLC,OAAQ,SAACC,GAAU,IACKC,EAAQD,EAAvBE,cAEDC,EAAmBF,EAAKG,QAAQC,KAAI,SAAAC,GACxC,OAAOC,YAAsB,CAC3BC,KAAMF,EAAEG,MACRC,MAAOJ,EAAEK,KACTC,YAAaN,EAAEG,MACfI,MAAOP,EAAEQ,MACTC,MAAOT,EAAES,MACTC,cAAeV,EAAEW,SACjBC,IAAKZ,EAAEY,SAIX,OAAQ,oCACN,kBAAC,IAAD,CACET,MAAM,gCACNU,SAAUhB,EACVS,YAAa,wGAEf,yBAAKQ,UAAU,cACb,4BAAKnB,EAAKQ,OACV,yBAAKW,UAAU,YAAYnB,EAAKoB,UAEhC,yBAAKD,UAAU,sBACZnB,EAAKG,QAAQC,KAAI,SAACJ,GACjB,OACE,yBAAKmB,UAAU,YAAYE,IAAKrB,EAAKsB,IACnC,kBAAC,IAAD,CAAMC,KAAMvB,EAAKiB,IAAKT,MAAOR,EAAKQ,OAChC,kBAAC,IAAD,CAAOgB,IAAKxB,EAAKa,MAAOY,IAAKzB,EAAKQ,QAClC,yBAAKW,UAAU,eACZnB,EAAKQ,OAER,yBAAKW,UAAU,SACZnB,EAAK0B,oBAtD1B,Y","file":"component---src-pages-store-merch-index-js-f7fb24ba56b1ee0cba67.js","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport { StaticQuery, graphql } from 'gatsby';\nimport Layout from \"../../../components/layout\";\nimport ReactGA from 'react-ga';\n// Components\nimport SEO from \"../../../components/SEO\";\nimport Link from \"../../../components/Link\";\nimport Image from \"../../../components/Image\";\n\nimport {createProductMetadata} from \"../../../jsonLd\";\n\nimport \"./styles.scss\";\n\nexport default function Template() {\n  const [start] = useState(new Date());\n  useEffect(() => {\n    return () => {\n      const cur = new Date();\n      const diff = cur.getMilliseconds() - start.getMilliseconds();\n      ReactGA.event({\n        category: 'TimeOnMerch',\n        variable: 'time',\n        value: diff, // in milliseconds\n        label: \"Merch\",\n      });\n    };\n  });\n\n  return (\n    <Layout>\n      <StaticQuery\n        query={graphql`\n              query Merch {\n                merchDataJson {\n                    title\n                    subtitle\n                    content {\n                      id\n                      url\n                      type\n                      photo\n                      priceText\n                      currency\n                      price\n                      title\n                    }\n                }\n            }\n          ` }\n        render={(json) => {\n          const {merchDataJson: data} = json;\n\n          const productsMetadata = data.content.map(d => {\n            return createProductMetadata({\n              name: d.title,\n              brand: d.type,\n              description: d.title,\n              image: d.photo,\n              price: d.price,\n              priceCurrency: d.currency,\n              url: d.url,\n            });\n          });\n\n          return (<>\n            <SEO\n              title=\"TechWaifu's Merchandise Store\"\n              metadata={productsMetadata}\n              description={\"TechWaifu's Merchandise Store. View the full selection of custom curated products made by our team.\"}\n            />\n            <div className=\"MerchStore\">\n              <h1>{data.title}</h1>\n              <div className=\"Subtitle\">{data.subtitle}</div>\n\n              <div className=\"MerchLinkContainer\">\n                {data.content.map((data) => {\n                  return (\n                    <div className=\"MerchLink\" key={data.id}>\n                      <Link href={data.url} title={data.title}>\n                        <Image src={data.photo} alt={data.title} />\n                        <div className=\"ProductName\">\n                          {data.title}\n                        </div>\n                        <div className=\"Price\">\n                          {data.priceText}\n                        </div>\n                      </Link>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </>);\n        }} />\n    </Layout >\n  )\n}\n"],"sourceRoot":""}